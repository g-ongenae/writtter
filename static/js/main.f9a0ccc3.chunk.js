(this.webpackJsonpwrittter=this.webpackJsonpwrittter||[]).push([[0],{24:function(e,t,a){e.exports=a(37)},29:function(e,t,a){},30:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(21),c=a.n(l),s=(a(29),a(2)),o=a(3),i=a(5),u=a(4),m=a(6),p=a(1),d=a(13),E=(a(30),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{class:"container"},n.a.createElement("h1",null," Connect "),n.a.createElement("form",null,n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("label",null,"Username:"),n.a.createElement("input",{id:"username",type:"text",name:"title",class:"form-control",placeholder:"Enter your username",required:!0})),n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("label",null,"Password:"),n.a.createElement("input",{id:"password",type:"password",name:"password",class:"form-control",placeholder:"Enter your password",required:!0})),n.a.createElement("fieldset",{class:"form-group text-center"},n.a.createElement("input",{type:"submit",value:"Log in",class:"btn btn-primary"}))))}}]),t}(r.Component)),f=a(15),h=a(10),b=a.n(h),g=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={tags:[],isLoading:!1},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e,t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return this.setState({isLoading:!0}),a.prev=1,a.next=4,b.a.awrap(fetch("".concat("https://writtter.herokuapp.com","/tags")));case 4:if((e=a.sent).ok){a.next=7;break}throw new Error("Could not fetch tags");case 7:return a.next=9,b.a.awrap(e.json());case 9:t=a.sent,this.setState({tags:t.tags,isLoading:!1}),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(1),this.setState({error:a.t0,isLoading:!1});case 16:case"end":return a.stop()}}),null,this,[[1,13]])}},{key:"render",value:function(){var e=this.state.tags.map((function(e){return n.a.createElement("option",{value:e.id},e.name)}));return n.a.createElement("select",{name:"tags",class:"form-control",multiple:!0},e)}}]),t}(r.Component),v=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={rules:[],isLoading:!1},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e,t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return this.setState({isLoading:!0}),a.prev=1,a.next=4,b.a.awrap(fetch("".concat("https://writtter.herokuapp.com","/rules")));case 4:if((e=a.sent).ok){a.next=7;break}throw new Error("Could not fetch tags");case 7:return a.next=9,b.a.awrap(e.json());case 9:t=a.sent,this.setState({tags:t.tags,isLoading:!1}),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(1),this.setState({error:a.t0,isLoading:!1});case 16:case"end":return a.stop()}}),null,this,[[1,13]])}},{key:"render",value:function(){var e=this.state.rules.map((function(e){return n.a.createElement("option",{value:e.id},e.name)}));return n.a.createElement("select",{name:"rules",class:"form-control",multiple:!0},e)}}]),t}(r.Component),y=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{class:"container"},n.a.createElement("h1",null,"Create a new competition"),n.a.createElement("form",null,n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("label",{for:"title"},"Title:"),n.a.createElement("input",{id:"title",type:"text",name:"title",class:"form-control",placeholder:"Enter title"})),n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("label",null,"Description:"),n.a.createElement("textarea",{name:"description",class:"form-control",placeholder:"Write a description for your story",rows:"3"})),n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("label",null,"Due date:"),n.a.createElement(j,null)),n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("input",{class:"form-check-input",type:"checkbox",name:"isPublic"}),n.a.createElement("label",{class:"form-check-label"},"Public Mode")),n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("input",{class:"form-check-input",type:"checkbox",name:"commentsEnabled",defaultChecked:!0}),n.a.createElement("label",{class:"form-check-label"},"Comments enabled")),n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("label",null,"Rules:"),n.a.createElement(v,{userId:this.props.userId})),n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("label",null,"Tags:"),n.a.createElement(g,{userId:this.props.userId})),n.a.createElement("fieldset",{class:"form-group text-center"},n.a.createElement("input",{type:"submit",value:"Create competition",class:"btn btn-primary"}))))}}]),t}(r.Component);function j(){var e=new Date,t="".concat(e.getDate(),"/").concat(e.getMonth(),"/").concat(e.getUTCFullYear());return n.a.createElement("div",{class:"input-group date"},n.a.createElement("input",{class:"form-control","data-date-format":"mm/dd/yyyy",type:"date",min:t}),n.a.createElement("span",{class:"input-group-append"},n.a.createElement("span",{class:"input-group-text"},n.a.createElement(f.c,{icon:f.a}))))}var k=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{class:"container"},n.a.createElement("h1",null,"Create a new rule"),n.a.createElement("form",null,n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("label",{for:"title"},"Title:"),n.a.createElement("input",{id:"title",type:"text",name:"title",class:"form-control",placeholder:"Enter title"})),n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("label",null,"Description:"),n.a.createElement("textarea",{name:"description",class:"form-control",placeholder:"Write a description for your story",rows:"3"})),n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("input",{class:"form-check-input",type:"checkbox",name:"isPublic"}),n.a.createElement("label",{class:"form-check-label"},"Public Mode")),n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("label",null,"Tags:"),n.a.createElement(g,{userId:this.props.userId})),n.a.createElement("fieldset",{class:"form-group text-center"},n.a.createElement("input",{type:"submit",value:"Create rule",class:"btn btn-primary"}))))}}]),t}(r.Component),O=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{class:"container"},n.a.createElement("h1",null,"Create a new story"),n.a.createElement("form",null,n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("label",{for:"title"},"Title:"),n.a.createElement("input",{id:"title",type:"text",name:"title",class:"form-control",placeholder:"Enter title"})),n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("label",null,"Description:"),n.a.createElement("textarea",{name:"description",class:"form-control",placeholder:"Write a description for your story",rows:"3"})),n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("input",{class:"form-check-input",type:"checkbox",name:"isPublic"}),n.a.createElement("label",{class:"form-check-label"},"Public Mode")),n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("input",{class:"form-check-input",type:"checkbox",name:"commentsEnabled",defaultChecked:!0}),n.a.createElement("label",{class:"form-check-label"},"Comments enabled")),n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("label",null,"Rules:"),n.a.createElement(v,{userId:this.props.userId})),n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("label",null,"Tags:"),n.a.createElement(g,{userId:this.props.userId})),n.a.createElement("fieldset",{class:"form-group text-center"},n.a.createElement("input",{type:"submit",value:"Create story",class:"btn btn-primary"}))))}}]),t}(r.Component);function w(){return n.a.createElement("div",null,n.a.createElement(p.a,null,n.a.createElement(p.b,{to:"/create/story"}," Story "),n.a.createElement(p.b,{to:"/create/competition"}," Competition "),n.a.createElement(p.b,{to:"/create/rule"}," Rule "),n.a.createElement(d.c,null,n.a.createElement(d.a,{path:"/create/story"},n.a.createElement(O,null)),n.a.createElement(d.a,{path:"/create/competition"},n.a.createElement(y,null)),n.a.createElement(d.a,{path:"/create/rule"},n.a.createElement(k,null)),n.a.createElement(d.a,{path:"/create"},n.a.createElement(O,null)))))}var x=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(p.a,null,n.a.createElement(I,null),n.a.createElement(C,null)))}}]),t}(r.Component);function I(){return n.a.createElement("div",{class:"container"},n.a.createElement("h1",null," Search Page "),n.a.createElement("form",{class:"form-row"},n.a.createElement("div",{class:"col-sm-2"}),n.a.createElement("fieldset",{class:"col-sm-7 form-group"},n.a.createElement("div",{class:"input-group"},n.a.createElement("div",{class:"input-group-prepend"},n.a.createElement("div",{class:"input-group-text"},n.a.createElement(f.c,{icon:f.b}))),n.a.createElement("input",{id:"search",type:"search",name:"search",class:"form-control",required:!0}))),n.a.createElement("fieldset",{class:"col-sm-2 form-group"},n.a.createElement("input",{type:"submit",value:"Search",class:"btn btn-primary"}))))}function C(e){var t=e.results;if(!t)return n.a.createElement(S,{text:"Make a search"});if(Array.isEmpty(t))return n.a.createElement(S,{text:"No search results found"});var a=t.map((function(e,t){return n.a.createElement(L,{index:t,item:e})}));return n.a.createElement("div",{class:"container"},a)}function L(e){var t=e.item;e.index;return n.a.createElement("div",{class:"panel panel-default"},n.a.createElement("div",{class:"panel-heading"},t.name," \u2014 by ",t.ownerId," \u2014 ",t.lastEditedAt),n.a.createElement("div",{class:"panel-body"},t.description),n.a.createElement("div",{class:"panel-footer"},n.a.createElement(p.b,{to:"/stories/".concat(t.id)},"Read the story"),n.a.createElement(p.b,{to:"/stories/".concat(t.id,"/edit")},"Edit the story")))}function S(e){var t=e.text;return n.a.createElement("div",{class:"jumbotron d-flex align-items-center"},n.a.createElement("div",{class:"container text-center"},n.a.createElement("h2",null,t)))}function M(e){var t;return t=e.loggedIn?n.a.createElement("div",null,n.a.createElement(p.b,{to:"/profile"}," Profile "),n.a.createElement(p.b,{to:"/logout"}," Log out ")):n.a.createElement("div",null,n.a.createElement(p.b,{to:"/login"}," Log in "),n.a.createElement(p.b,{to:"/register"}," Register ")),n.a.createElement("menu",null,n.a.createElement(p.b,{to:"/"}," Writtter "),n.a.createElement(p.b,{to:"/about"}," About "),n.a.createElement(p.b,{to:"/search"}," Search "),n.a.createElement(p.b,{to:"/create"}," Create "),t)}var P=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={isLoading:!1},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(p.a,null,n.a.createElement("div",null),n.a.createElement(p.b,{to:"/user/:userId/stories"}," Stories "),n.a.createElement(p.b,{to:"/user/:userId/competitions"}," Competitions "),n.a.createElement(p.b,{to:"/user/:userId/likes"}," Likes "),n.a.createElement(p.b,{to:"/user/:userId/comments"}," Comments "),n.a.createElement(d.c,null,n.a.createElement(d.a,{path:"/user/:userId/stories"}," ",n.a.createElement(D,{liked:!1})," "),n.a.createElement(d.a,{path:"/user/:userId/competitions"}," ",n.a.createElement(W,null)," "),n.a.createElement(d.a,{path:"/user/:userId/likes"}," ",n.a.createElement(D,{liked:!0})," "),n.a.createElement(d.a,{path:"/user/:userId/comments"}," ",n.a.createElement(q,null)," "),n.a.createElement(d.a,{path:"/user/:userId"}," ",n.a.createElement(D,{liked:!1})," "))))}}]),t}(r.Component);function D(e){}function W(e){}function q(e){}var T=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{class:"container"},n.a.createElement("h1",null,"Create a new account"),n.a.createElement("form",null,n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("label",null,"Username:"),n.a.createElement("div",{class:"input-group"},n.a.createElement("div",{class:"input-group-prepend"},n.a.createElement("div",{class:"input-group-text"},"@")),n.a.createElement("input",{id:"username",type:"text",name:"title",class:"form-control",placeholder:"Enter your username",required:!0}))),n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("label",null,"Email:"),n.a.createElement("input",{id:"email",type:"email",name:"email",class:"form-control",placeholder:"Enter your email address",required:!0})),n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("label",null,"Password:"),n.a.createElement("input",{id:"password",type:"password",name:"password",class:"form-control",placeholder:"Enter your password",required:!0}),n.a.createElement("small",{id:"passwordHelpInline",class:"text-muted"},"Must be 8-20 characters long.")),n.a.createElement("fieldset",{class:"form-group"},n.a.createElement("input",{class:"form-check-input",type:"checkbox",name:"rules",required:!0}),n.a.createElement("label",{class:"form-check-label"},"Accept rules and email subscription"),n.a.createElement("small",{id:"passwordHelpInline",class:"text-muted"},"No commercial offer will be send to you, just regular usage.")),n.a.createElement("fieldset",{class:"form-group text-center"},n.a.createElement("input",{type:"submit",value:"Create account",class:"btn btn-primary"}))))}}]),t}(r.Component),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this))).state={story:{},isLoading:!1,error:null,storyId:e.storyId},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e,t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("ICI"),this.setState({isLoading:!0}),console.log("ICI"),a.prev=3,a.next=6,b.a.awrap(fetch("".concat("https://writtter.herokuapp.com","/stories/").concat(this.storyId)));case 6:if((e=a.sent).ok){a.next=9;break}throw new Error("Something went wrong ...");case 9:return console.log("ICI",e),a.next=12,b.a.awrap(e.json());case 12:t=a.sent,this.setState({story:t.story,isLoading:!1}),a.next=19;break;case 16:a.prev=16,a.t0=a.catch(3),this.setState({error:a.t0,isLoading:!1});case 19:case"end":return a.stop()}}),null,this,[[3,16]])}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state,t=e.story,a=e.isLoading,r=e.error;return r?n.a.createElement("p",null,r.message):a||!t?n.a.createElement("div",null," Loading story "):n.a.createElement("div",{class:"container"},n.a.createElement("div",{class:"panel panel-default"},n.a.createElement("div",{class:"panel-heading"},t.name," \u2014 by ",t.ownerId," \u2014 ",t.lastEditedAt),n.a.createElement("div",{class:"panel-body"},t.content)))}}]),t}(r.Component),R=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("URL").then((function(e){return e.json()})).then((function(t){e.setState({})}))}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(p.a,null,n.a.createElement(M,null),n.a.createElement(d.c,null,n.a.createElement(d.a,{path:"/create"},n.a.createElement(w,null)),n.a.createElement(d.a,{path:"/search"},n.a.createElement(x,null)),n.a.createElement(d.a,{path:"/profile"},n.a.createElement(P,{userId:this.state.userId})),n.a.createElement(d.a,{path:"/user"},n.a.createElement(P,null)),n.a.createElement(d.a,{path:"/login"},n.a.createElement(E,null)),n.a.createElement(d.a,{path:"/register"},n.a.createElement(T,null)),n.a.createElement(d.a,{path:"/stories/:id",component:function(e){var t=e.match;return n.a.createElement(A,{storyId:t.params.id})}}))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.f9a0ccc3.chunk.js.map