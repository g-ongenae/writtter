(this.webpackJsonpwrittter=this.webpackJsonpwrittter||[]).push([[0],{25:function(e,t,a){e.exports=a(38)},30:function(e,t,a){},31:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),c=a.n(l),s=(a(30),a(2)),o=a(3),i=a(5),m=a(4),u=a(6),p=a(1),d=a(13),E=(a(31),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null," Connect "),r.a.createElement("form",null,r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{id:"username",type:"text",name:"title",className:"form-control",placeholder:"Enter your username",required:!0})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Password:"),r.a.createElement("input",{id:"password",type:"password",name:"password",className:"form-control",placeholder:"Enter your password",required:!0})),r.a.createElement("fieldset",{className:"form-group text-center"},r.a.createElement("input",{type:"submit",value:"Log in",className:"btn btn-primary"}))))}}]),t}(n.Component)),h=a(15),f=a(9),b=a.n(f),g=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={tags:[],isLoading:!1},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e,t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return this.setState({isLoading:!0}),a.prev=1,a.next=4,b.a.awrap(fetch("".concat("https://writtter.herokuapp.com","/tags")));case 4:if((e=a.sent).ok){a.next=7;break}throw new Error("Could not fetch tags");case 7:return a.next=9,b.a.awrap(e.json());case 9:t=a.sent,this.setState({tags:t.tags,isLoading:!1}),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(1),this.setState({error:a.t0,isLoading:!1});case 16:case"end":return a.stop()}}),null,this,[[1,13]])}},{key:"render",value:function(){var e=this.state.tags.map((function(e){return r.a.createElement("option",{value:e.id},e.name)}));return r.a.createElement("select",{name:"tags",className:"form-control",multiple:!0},e)}}]),t}(n.Component),v=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={rules:[],isLoading:!1},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e,t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return this.setState({isLoading:!0}),a.prev=1,a.next=4,b.a.awrap(fetch("".concat("https://writtter.herokuapp.com","/rules")));case 4:if((e=a.sent).ok){a.next=7;break}throw new Error("Could not fetch tags");case 7:return a.next=9,b.a.awrap(e.json());case 9:t=a.sent,this.setState({tags:t.tags,isLoading:!1}),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(1),this.setState({error:a.t0,isLoading:!1});case 16:case"end":return a.stop()}}),null,this,[[1,13]])}},{key:"render",value:function(){var e=this.state.rules.map((function(e){return r.a.createElement("option",{value:e.id},e.name)}));return r.a.createElement("select",{name:"rules",className:"form-control",multiple:!0},e)}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this))).state={name:"",description:"",finishDate:""},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Create a new competition"),r.a.createElement("form",null,r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",{for:"title"},"Title:"),r.a.createElement("input",{value:this.state.name,onChange:this.onChange.bind(this,"name"),id:"name",type:"text",name:"name",className:"form-control",placeholder:"Enter title"})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Description:"),r.a.createElement("textarea",{value:this.state.description,onChange:this.onChange.bind(this,"description"),name:"description",className:"form-control",placeholder:"Write a description for your story",rows:"3"})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Due date:"),r.a.createElement(y,{competition:this})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"isPublic"}),r.a.createElement("label",{className:"form-check-label"},"Public Mode")),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"commentsEnabled",defaultChecked:!0}),r.a.createElement("label",{className:"form-check-label"},"Comments enabled")),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Rules:"),r.a.createElement(v,{userId:this.props.userId,binder:this})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Tags:"),r.a.createElement(g,{userId:this.props.userId,binder:this})),r.a.createElement("fieldset",{className:"form-group text-center"},r.a.createElement("input",{type:"submit",value:"Create competition",className:"btn btn-primary"}))))}}]),t}(n.Component);function y(e){var t=e.binder,a=new Date,n="".concat(a.getDate(),"/").concat(a.getMonth(),"/").concat(a.getUTCFullYear());return r.a.createElement("div",{className:"input-group date"},r.a.createElement("input",{value:this.state.finishDate,onChange:this.onChange.bind(t,"finishDate"),className:"form-control","data-date-format":"mm/dd/yyyy",type:"date",min:n}),r.a.createElement("span",{className:"input-group-append"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement(h.c,{icon:h.a}))))}var j=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Create a new rule"),r.a.createElement("form",null,r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",{for:"title"},"Title:"),r.a.createElement("input",{id:"title",type:"text",name:"title",className:"form-control",placeholder:"Enter title"})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Description:"),r.a.createElement("textarea",{name:"description",className:"form-control",placeholder:"Write a description for your story",rows:"3"})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"isPublic"}),r.a.createElement("label",{className:"form-check-label"},"Public Mode")),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Tags:"),r.a.createElement(g,{userId:this.props.userId})),r.a.createElement("fieldset",{className:"form-group text-center"},r.a.createElement("input",{type:"submit",value:"Create rule",className:"btn btn-primary"}))))}}]),t}(n.Component),w=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Create a new story"),r.a.createElement("form",null,r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",{for:"title"},"Title:"),r.a.createElement("input",{id:"title",type:"text",name:"title",className:"form-control",placeholder:"Enter title"})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Description:"),r.a.createElement("textarea",{name:"description",className:"form-control",placeholder:"Write a description for your story",rows:"3"})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"isPublic"}),r.a.createElement("label",{className:"form-check-label"},"Public Mode")),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"commentsEnabled",defaultChecked:!0}),r.a.createElement("label",{className:"form-check-label"},"Comments enabled")),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Rules:"),r.a.createElement(v,{userId:this.props.userId})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Tags:"),r.a.createElement(g,{userId:this.props.userId})),r.a.createElement("fieldset",{className:"form-group text-center"},r.a.createElement("input",{type:"submit",value:"Create story",className:"btn btn-primary"}))))}}]),t}(n.Component);function k(){return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(p.b,{to:"/create/story"}," Story "),r.a.createElement(p.b,{to:"/create/competition"}," Competition "),r.a.createElement(p.b,{to:"/create/rule"}," Rule "),r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/create/story"},r.a.createElement(w,null)),r.a.createElement(d.a,{path:"/create/competition"},r.a.createElement(N,null)),r.a.createElement(d.a,{path:"/create/rule"},r.a.createElement(j,null)),r.a.createElement(d.a,{path:"/create"},r.a.createElement(w,null)))))}var O=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(x,null),r.a.createElement(C,null)))}}]),t}(n.Component);function x(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null," Search Page "),r.a.createElement("form",{className:"form-row"},r.a.createElement("div",{className:"col-sm-2"}),r.a.createElement("fieldset",{className:"col-sm-7 form-group"},r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},r.a.createElement(h.c,{icon:h.b}))),r.a.createElement("input",{id:"search",type:"search",name:"search",className:"form-control",required:!0}))),r.a.createElement("fieldset",{className:"col-sm-2 form-group"},r.a.createElement("input",{type:"submit",value:"Search",className:"btn btn-primary"}))))}function C(e){var t=e.results;if(!t)return r.a.createElement(S,{text:"Make a search"});if(Array.isEmpty(t))return r.a.createElement(S,{text:"No search results found"});var a=t.map((function(e,t){return r.a.createElement(I,{index:t,item:e})}));return r.a.createElement("div",{className:"container"},a)}function I(e){var t=e.item;e.index;return r.a.createElement("div",{className:"panel panel-default"},r.a.createElement("div",{className:"panel-heading"},t.name," \u2014 by ",t.ownerId," \u2014 ",t.lastEditedAt),r.a.createElement("div",{className:"panel-body"},t.description),r.a.createElement("div",{className:"panel-footer"},r.a.createElement(p.b,{to:"/stories/".concat(t.id)},"Read the story"),r.a.createElement(p.b,{to:"/stories/".concat(t.id,"/edit")},"Edit the story")))}function S(e){var t=e.text;return r.a.createElement("div",{className:"jumbotron d-flex align-items-center"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("h2",null,t)))}function L(e){var t;return t=e.loggedIn?r.a.createElement("div",null,r.a.createElement(p.b,{to:"/profile"}," Profile "),r.a.createElement(p.b,{to:"/logout"}," Log out ")):r.a.createElement("div",null,r.a.createElement(p.b,{to:"/login"}," Log in "),r.a.createElement(p.b,{to:"/register"}," Register ")),r.a.createElement("menu",null,r.a.createElement(p.b,{to:"/"}," Writtter "),r.a.createElement(p.b,{to:"/about"}," About "),r.a.createElement(p.b,{to:"/search"}," Search "),r.a.createElement(p.b,{to:"/create"}," Create "),t)}var D=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).state={isLoading:!1},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement("div",null),r.a.createElement(p.b,{to:"/user/:userId/stories"}," Stories "),r.a.createElement(p.b,{to:"/user/:userId/competitions"}," Competitions "),r.a.createElement(p.b,{to:"/user/:userId/likes"}," Likes "),r.a.createElement(p.b,{to:"/user/:userId/comments"}," Comments "),r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/user/:userId/stories"}," ",r.a.createElement(M,{liked:!1})," "),r.a.createElement(d.a,{path:"/user/:userId/competitions"}," ",r.a.createElement(P,null)," "),r.a.createElement(d.a,{path:"/user/:userId/likes"}," ",r.a.createElement(M,{liked:!0})," "),r.a.createElement(d.a,{path:"/user/:userId/comments"}," ",r.a.createElement(T,null)," "),r.a.createElement(d.a,{path:"/user/:userId"}," ",r.a.createElement(M,{liked:!1})," "))))}}]),t}(n.Component);function M(e){}function P(e){}function T(e){}var W=a(16),q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={username:"",email:"",password:""},a.handleChange=a.handleChange.bind(Object(W.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(W.a)(a)),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e,t){var a={};a[e]=t.target.value,this.setState(a)}},{key:"handleSubmit",value:function(e){var t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e.preventDefault(),console.log("Event",e),a.next=4,b.a.awrap(fetch("".concat("https://writtter.herokuapp.com","/users"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:this.state.username,email:this.state.email,password:this.state.password})}));case 4:t=a.sent,console.log("response",t),window.location.href="/";case 7:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Create a new account"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Username:"),r.a.createElement("div",{className:"input-group"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("div",{className:"input-group-text"},"@")),r.a.createElement("input",{value:this.state.username,onChange:this.handleChange.bind(this,"username"),id:"username",type:"text",name:"title",className:"form-control",placeholder:"Enter your username",required:!0}))),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Email:"),r.a.createElement("input",{value:this.state.email,onChange:this.handleChange.bind(this,"email"),id:"email",type:"email",name:"email",className:"form-control",placeholder:"Enter your email address",required:!0})),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("label",null,"Password:"),r.a.createElement("input",{value:this.state.password,onChange:this.handleChange.bind(this,"password"),id:"password",type:"password",name:"password",className:"form-control",placeholder:"Enter your password",required:!0}),r.a.createElement("small",{id:"passwordHelpInline",className:"text-muted"},"Must be 8-20 characters long.")),r.a.createElement("fieldset",{className:"form-group"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"rules",required:!0}),r.a.createElement("label",{className:"form-check-label"},"Accept rules and email subscription"),r.a.createElement("small",{id:"passwordHelpInline",className:"text-muted"},"No commercial offer will be send to you, just regular usage.")),r.a.createElement("fieldset",{className:"form-group text-center"},r.a.createElement("input",{type:"submit",value:"Create account",className:"btn btn-primary"}))))}}]),t}(n.Component),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this))).state={story:{},isLoading:!1,error:null,storyId:e.storyId},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e,t;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return this.setState({isLoading:!0}),a.prev=1,a.next=4,b.a.awrap(fetch("".concat("https://writtter.herokuapp.com","/stories/").concat(this.storyId)));case 4:if((e=a.sent).ok){a.next=7;break}throw new Error("Something went wrong ...");case 7:return a.next=9,b.a.awrap(e.json());case 9:t=a.sent,this.setState({story:t.story,isLoading:!1}),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(1),this.setState({error:a.t0,isLoading:!1});case 16:case"end":return a.stop()}}),null,this,[[1,13]])}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var e=this.state,t=e.story,a=e.isLoading,n=e.error;return n?r.a.createElement("p",null,n.message):a||!t?r.a.createElement("div",null," Loading story "):r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"panel panel-default"},r.a.createElement("div",{className:"panel-heading"},t.name," \u2014 by ",t.ownerId," \u2014 ",t.lastEditedAt),r.a.createElement("div",{className:"panel-body"},t.content)))}}]),t}(n.Component),R=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this))).state={},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("URL").then((function(e){return e.json()})).then((function(t){e.setState({})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p.a,null,r.a.createElement(L,null),r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/create"},r.a.createElement(k,null)),r.a.createElement(d.a,{path:"/search"},r.a.createElement(O,null)),r.a.createElement(d.a,{path:"/profile"},r.a.createElement(D,{userId:this.state.userId})),r.a.createElement(d.a,{path:"/user"},r.a.createElement(D,null)),r.a.createElement(d.a,{path:"/login"},r.a.createElement(E,null)),r.a.createElement(d.a,{path:"/register"},r.a.createElement(q,null)),r.a.createElement(d.a,{path:"/stories/:id",component:function(e){var t=e.match;return r.a.createElement(A,{storyId:t.params.id})}}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.7c436274.chunk.js.map